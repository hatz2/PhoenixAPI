syntax = "proto3";

package phoenix.game;

import "google/protobuf/empty.proto";
import "phoenixapi/protos/game/entities.proto";
import "phoenixapi/protos/position.proto";

service PlayerManager {
    rpc GetPlayerObjManager(google.protobuf.Empty) returns (PlayerObjManager) {}

    rpc ResetPlayerState(google.protobuf.Empty) returns (google.protobuf.Empty) {}

    rpc Walk(Position) returns (google.protobuf.Empty) {}

    rpc Attack(AttackRequest) returns (google.protobuf.Empty) {}

    rpc PickUp(PickUpRequest) returns (google.protobuf.Empty) {}

    rpc Collect(CollectRequest) returns (google.protobuf.Empty) {}

    rpc Target(TargetRequest) returns (google.protobuf.Empty) {}
}

message PlayerObjManager {
    Position position = 1;
    Position dest_position = 2;
    int32 state = 3; // temp as int32
    entities.Player player = 4; // your character player data
    sint32 id = 5;
    bool is_resting = 6;
}

message AttackRequest {
    entities.EntityType entity_type = 1;
    sint32 entity_id = 2;
    sint32 skill_id = 3;
}

message PickUpRequest {
    sint32 item_id = 1;
}

message CollectRequest {
    sint32 npc_id = 2;
}

message TargetRequest {
    entities.EntityType entity_type = 1;
    sint32 entity_id = 2;
}

